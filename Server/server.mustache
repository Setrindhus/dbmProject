var express = require('express');
var app = express();
var bodyParser = require("body-parser");
var api = require('./Controllers/api.js');
var frontoffice = require('./Controllers/frontoffice.js');
var backoffice = require('./Controllers/backoffice.js');
var mustacheExpress = require('mustache-express');
var path = require('path');

app.use(bodyParser.urlencoded({ extended: true }));

//app.use(express.static(__dirname + '/Public'));
app.use(express.static(path.join(__dirname,'Public')));
app.use('/api', api);
app.use('/', frontoffice);
app.use('/backoffice', backoffice);

app.engine('mustache', mustacheExpress());
app.set('view engine', 'mustache'); //extens√£o dos ficheiros das views
app.set('views', __dirname + '/Views'); 

var server = app.listen({{port}}, function(){
    console.log('Example app listening on port {{port}}');
});